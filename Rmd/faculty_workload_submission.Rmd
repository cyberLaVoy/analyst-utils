---
title: "USHE Faculty Workload"
author: "Office of Institutional Effectiveness"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Disable scientific notation when displaying numbers.
options(scipen=999)
library(utHelpR)
library(dplyr)
```

#### Faculty FTE ( Census Count )
```{r}
# fte_scalar <- (instructional_workload - non_instructional_workload) / contracted_workload
total_instructional_faculty <- 0

```

#### Faculty Instructional Workload ( Total Instructional Activity - All Levels )

What are the required data fields for this portion of the report? 
There is an assumption that all these data fields are on the level of term - faculty - section.

1. percentage_of_responsibility
2. percentage_of_session
3. primary_faculty_indicator
4. contract_type
5. ut_assigned_workload
6. schedule_code
7. cross_list_group
8. lecture_hours
9. lab_hours
10. other_hours
11. contact_hours
12. credit_hours
13. student_count
14. is_team_taught


```{r}

term_faculty_section_df <- utHelpR::get_data_from_sql_file( "term_faculty_section.sql",
                                                            dsn="REPT" )

term_section_df <- utHelpR::get_data_from_sql_file( "term_section.sql",
                                                    dsn="REPT" )

term_faculty_section_df_temp <- term_faculty_section_df %>%
  dplyr::left_join( term_section_df, by=c("term_id", "course_reference_number") )

# For courses_taught we count distinct course_crn if the course is NOT a cross listed course, otherwise we count all cross listed course sections as one single course.
# courses_taught=n_distinct(course_crn[is.na(course_cross_list_group)]) + n_distinct(course_cross_list_group[!is.na(course_cross_list_group)]) 

# Student Credit Hours ( SCH )
# total_student_credit_hours <- sum(section_student_credit_hours)
total_student_credit_hours <- 0

# Instructional Credit Hours ( ICH )
# total_instructional_credit_hours <- sum(section_credit_hours)
total_instructional_credit_hours <- 0

# Faculty Contact Hours ( FCH )
# total_faculty_contact_hours <- sum(section_contact_hours)
total_faculty_contact_hours <- 0

```

#### Part Time Instruction

What are the required data fields for this portion of the report?

1. 

An indicators for the following faculty classifications is needed:

1. Regular Faculty Overload
2. Part Time Adjunct and Wage Rated Instructors
3. Teaching Assistants

With said indicators, we can group by these faculty classifications and perform the same calculations as above.

```{r, eval=FALSE}
# pseudo code for calculation
dplyr::group_by(faculty_classification) %>%
dplyr::summarise( sch = sum(),
                   ich = sum(),
                   fch = sum() )

```


#### Faculty FTE ( Census Count )
* **Total Institutional Instructional Faculty:** `r total_instructional_faculty`
   
#### Faculty Instructional Workload ( Total Instructional Activity - All Levels )
* **Total Faculty Contact Hours:** `r total_faculty_contact_hours`
* **Total Instructional Credit Hours:** `r total_instructional_credit_hours`
* **Total Student Credit Hours:** `r total_student_credit_hours`
        
#### Part Time Instruction
* Headcount of Part Time Instructors
    + **Regular Faculty Overload:**
    + **Part Time Adjunct and Wage Rated Instructors:**
    + **Teaching Assistants:**
    +    Total Part Time Instructors Headcount:
* Faculty Contact Hours per Part Time Instructors Headcount
    + **Regular Faculty Overload:**
    + **Part Time Adjunct and Wage Rated Instructors:**
    + **Teaching Assistants:**
    +    Total Faculty Contact Hours per Part Time Instructors Headcount:
* Instructional Credit Hours (ICH) Per Part Time Instructors Headcount
    + **Regular Faculty Overload:**
    + **Part Time Adjunct and Wage Rated Instructors:**
    + **Teaching Assistants:**
    +    Total Instructional Credit Hours (ICH) Per Part Time Instructors Headcount:
* Student Credit Hours (SCH) Per Part Time Instructors Headcount
    + **Regular Faculty Overload:**
    + **Part Time Adjunct and Wage Rated Instructors:**
    + **Teaching Assistants:**
    +    Total Student Credit Hours (SCH) Per Part Time Instructors Headcount:
* Percent of Institutional Student Credit Hours Generated by Part Time Instructors
    + Regular Faculty Overload:
    + Part Time Adjunct and Wage Rated Instructors:
    + Teaching Assistants:
    +    Total Percent of Institutional Student Credit Hours Generated by Part Time Instructors:
    
    